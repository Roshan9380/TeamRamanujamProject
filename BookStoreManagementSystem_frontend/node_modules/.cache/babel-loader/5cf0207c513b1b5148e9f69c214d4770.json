{"ast":null,"code":"export default class BookService {\n  constructor() {\n    this.uri = \"http://localhost:8980/book\";\n    this.books = [];\n  }\n\n  async getBooks() {\n    return await fetch(this.uri + \"/fetchall\").then(response => {\n      if (!response.ok) {\n        this.handleResponseError(response);\n      }\n\n      return response.json();\n    }).then(data => {\n      console.log(\"books data from service\" + data);\n      return data;\n    }).catch(error => {\n      console.log(\"Error : \" + error.message);\n    });\n  }\n\n  async saveBook(book) {\n    return await fetch(this.uri + \"/add\", {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(book)\n    }).then(response => {\n      if (!response.ok) {\n        this.handleResponseError(response);\n      }\n\n      return response.json();\n    }).catch(error => {\n      console.log(error.message);\n    });\n  }\n\n  async updateBook(book) {\n    return await fetch(this.uri + \"/update\", {\n      method: \"PUT\",\n      mode: \"cors\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(book)\n    }).then(response => {\n      if (!response.ok) {\n        this.handleResponseError(response);\n      }\n\n      return response.json();\n    }).catch(error => {\n      console.log(\"Error : \" + error.message);\n    });\n  }\n\n  async deleteBook(bid) {\n    return await fetch(this.uri + \"/remove/\" + bid, {\n      method: \"DELETE\",\n      mode: \"cors\"\n    }).then(response => {\n      if (!response.ok) {\n        this.handleResponseError(response);\n      }\n\n      return response.json();\n    }).catch(error => {\n      console.log(\"Error : \" + error.message);\n    });\n  }\n\n  async getBooksForCustomer(bookName) {\n    return await fetch(this.uri + `/fetch?bookName=${bookName}`).then(response => {\n      if (!response.ok) {\n        this.handleResponseError(response);\n      }\n\n      return response.json();\n    }).then(data => {\n      console.log(\"books data from service\" + data);\n      return data;\n    }).catch(error => {\n      console.log(\"Error : \" + error.message);\n    });\n  }\n\n}","map":{"version":3,"names":["BookService","constructor","uri","books","getBooks","fetch","then","response","ok","handleResponseError","json","data","console","log","catch","error","message","saveBook","book","method","mode","headers","body","JSON","stringify","updateBook","deleteBook","bid","getBooksForCustomer","bookName"],"sources":["C:/Users/HP/Downloads/new/src/services/BookService.js"],"sourcesContent":["export default class BookService{\r\n    constructor(){\r\n        this.uri = \"http://localhost:8980/book\";\r\n        this.books = [];\r\n    }\r\n\r\n    \r\n    async getBooks() {\r\n        return await fetch(this.uri + \"/fetchall\").then(response => {\r\n           if(!response.ok) {\r\n               this.handleResponseError(response);\r\n           }\r\n           return response.json();\r\n       }).then(data => {  \r\n           console.log(\"books data from service\" + data);          \r\n           return data;\r\n       }).catch(error => {\r\n           console.log(\"Error : \"  + error.message)\r\n       })\r\n   }\r\n\r\n   \r\n   async saveBook(book) {\r\n        return await fetch(this.uri+\"/add\", {\r\n            method:\"POST\",\r\n            mode:\"cors\",\r\n            headers: {\r\n                \"content-type\" : \"application/json\"\r\n            },\r\n            body:JSON.stringify(book)\r\n        }).then(response => {\r\n        if(!response.ok) {\r\n            this.handleResponseError(response);\r\n        }\r\n        return response.json();\r\n        }).catch(error => {\r\n            console.log(error.message);\r\n        });\r\n    }\r\n\r\n    \r\n    async updateBook(book){\r\n        return await fetch(this.uri+\"/update\", {\r\n            method:\"PUT\",\r\n            mode:\"cors\",\r\n            headers: {\r\n                \"content-type\" : \"application/json\"\r\n            },\r\n            body:JSON.stringify(book)\r\n        }).then(response => {\r\n        if(!response.ok) {\r\n            this.handleResponseError(response);\r\n        }\r\n        return response.json();\r\n        }).catch(error => {\r\n            console.log(\"Error : \" + error.message);\r\n        });\r\n    }\r\n\r\n    \r\n    async deleteBook(bid){\r\n        return await fetch(this.uri + \"/remove/\"+ bid, {\r\n            method:\"DELETE\",\r\n            mode:\"cors\"\r\n        }).then(response => {\r\n            if(!response.ok) {\r\n                this.handleResponseError(response);\r\n            }\r\n            return response.json();\r\n        }).catch(error => {\r\n            console.log(\"Error : \" + error.message);\r\n        })\r\n    }\r\n\r\n    \r\n    async getBooksForCustomer(bookName) {\r\n        return await fetch(this.uri +\r\n             `/fetch?bookName=${bookName}`)\r\n        .then(response => {\r\n           if(!response.ok) {\r\n               this.handleResponseError(response);\r\n           }\r\n           return response.json();\r\n       }).then(data => {  \r\n           console.log(\"books data from service\" + data);          \r\n           return data;\r\n       }).catch(error => {\r\n           console.log(\"Error : \"  + error.message)\r\n       })\r\n   }\r\n}"],"mappings":"AAAA,eAAe,MAAMA,WAAN,CAAiB;EAC5BC,WAAW,GAAE;IACT,KAAKC,GAAL,GAAW,4BAAX;IACA,KAAKC,KAAL,GAAa,EAAb;EACH;;EAGa,MAARC,QAAQ,GAAG;IACb,OAAO,MAAMC,KAAK,CAAC,KAAKH,GAAL,GAAW,WAAZ,CAAL,CAA8BI,IAA9B,CAAmCC,QAAQ,IAAI;MACzD,IAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB;QACb,KAAKC,mBAAL,CAAyBF,QAAzB;MACH;;MACD,OAAOA,QAAQ,CAACG,IAAT,EAAP;IACH,CALa,EAKXJ,IALW,CAKNK,IAAI,IAAI;MACZC,OAAO,CAACC,GAAR,CAAY,4BAA4BF,IAAxC;MACA,OAAOA,IAAP;IACH,CARa,EAQXG,KARW,CAQLC,KAAK,IAAI;MACdH,OAAO,CAACC,GAAR,CAAY,aAAcE,KAAK,CAACC,OAAhC;IACH,CAVa,CAAb;EAWJ;;EAGa,MAARC,QAAQ,CAACC,IAAD,EAAO;IAChB,OAAO,MAAMb,KAAK,CAAC,KAAKH,GAAL,GAAS,MAAV,EAAkB;MAChCiB,MAAM,EAAC,MADyB;MAEhCC,IAAI,EAAC,MAF2B;MAGhCC,OAAO,EAAE;QACL,gBAAiB;MADZ,CAHuB;MAMhCC,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeN,IAAf;IAN2B,CAAlB,CAAL,CAOVZ,IAPU,CAOLC,QAAQ,IAAI;MACpB,IAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB;QACb,KAAKC,mBAAL,CAAyBF,QAAzB;MACH;;MACD,OAAOA,QAAQ,CAACG,IAAT,EAAP;IACC,CAZY,EAYVI,KAZU,CAYJC,KAAK,IAAI;MACdH,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACC,OAAlB;IACH,CAdY,CAAb;EAeH;;EAGe,MAAVS,UAAU,CAACP,IAAD,EAAM;IAClB,OAAO,MAAMb,KAAK,CAAC,KAAKH,GAAL,GAAS,SAAV,EAAqB;MACnCiB,MAAM,EAAC,KAD4B;MAEnCC,IAAI,EAAC,MAF8B;MAGnCC,OAAO,EAAE;QACL,gBAAiB;MADZ,CAH0B;MAMnCC,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeN,IAAf;IAN8B,CAArB,CAAL,CAOVZ,IAPU,CAOLC,QAAQ,IAAI;MACpB,IAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB;QACb,KAAKC,mBAAL,CAAyBF,QAAzB;MACH;;MACD,OAAOA,QAAQ,CAACG,IAAT,EAAP;IACC,CAZY,EAYVI,KAZU,CAYJC,KAAK,IAAI;MACdH,OAAO,CAACC,GAAR,CAAY,aAAaE,KAAK,CAACC,OAA/B;IACH,CAdY,CAAb;EAeH;;EAGe,MAAVU,UAAU,CAACC,GAAD,EAAK;IACjB,OAAO,MAAMtB,KAAK,CAAC,KAAKH,GAAL,GAAW,UAAX,GAAuByB,GAAxB,EAA6B;MAC3CR,MAAM,EAAC,QADoC;MAE3CC,IAAI,EAAC;IAFsC,CAA7B,CAAL,CAGVd,IAHU,CAGLC,QAAQ,IAAI;MAChB,IAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB;QACb,KAAKC,mBAAL,CAAyBF,QAAzB;MACH;;MACD,OAAOA,QAAQ,CAACG,IAAT,EAAP;IACH,CARY,EAQVI,KARU,CAQJC,KAAK,IAAI;MACdH,OAAO,CAACC,GAAR,CAAY,aAAaE,KAAK,CAACC,OAA/B;IACH,CAVY,CAAb;EAWH;;EAGwB,MAAnBY,mBAAmB,CAACC,QAAD,EAAW;IAChC,OAAO,MAAMxB,KAAK,CAAC,KAAKH,GAAL,GACb,mBAAkB2B,QAAS,EADf,CAAL,CAEZvB,IAFY,CAEPC,QAAQ,IAAI;MACf,IAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB;QACb,KAAKC,mBAAL,CAAyBF,QAAzB;MACH;;MACD,OAAOA,QAAQ,CAACG,IAAT,EAAP;IACH,CAPa,EAOXJ,IAPW,CAONK,IAAI,IAAI;MACZC,OAAO,CAACC,GAAR,CAAY,4BAA4BF,IAAxC;MACA,OAAOA,IAAP;IACH,CAVa,EAUXG,KAVW,CAULC,KAAK,IAAI;MACdH,OAAO,CAACC,GAAR,CAAY,aAAcE,KAAK,CAACC,OAAhC;IACH,CAZa,CAAb;EAaJ;;AAzF4B"},"metadata":{},"sourceType":"module"}