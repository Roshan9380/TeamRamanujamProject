{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\new\\\\src\\\\components\\\\AllBooks.js\";\nimport React, { Component } from 'react';\nimport BookService from '../services/BookService';\nimport book from '../assets/images/travel1.jpg';\nimport Header from './Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AllBooks extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getBooks = () => {\n      this.service.getBooks().then(data => {\n        console.log(data);\n        this.setState({\n          books: data\n        });\n      });\n    };\n\n    this.onDelete = bid => {\n      if (window.confirm(\"Are you sure you want to delete the book \" + bid + \" ?\")) {\n        this.service.deleteBook(bid).then(response => {\n          this.getBooks();\n        });\n      }\n    };\n\n    this.onEdit = book => {\n      localStorage.setItem('book', JSON.stringify(book));\n      console.log(\"book to be updated : \", localStorage.getItem('book'));\n      this.props.history.push('/updateBook');\n    };\n\n    this.service = new BookService();\n    this.state = {};\n\n    if (!localStorage.getItem('customer')) {\n      alert('Please Login');\n      this.props.history.push('/login');\n    } else {\n      if (JSON.parse(localStorage.getItem('customer')).isadmin === 1) {} else {\n        alert('Access Denied');\n        this.props.history.push('/');\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.getBooks();\n  }\n\n  render() {\n    if (!localStorage.getItem('customer')) {\n      if (!this.state.books) return null;\n    } else {\n      if (JSON.parse(localStorage.getItem('customer')).isadmin === 1) if (!this.state.books) return null;\n    }\n\n    const booklist = this.state.books.map(b => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card m-4 \",\n        style: {\n          width: 350,\n          height: \"fit-content\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"book \", b.bookId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Book Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: f.bookName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: b.bookPrice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Book Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: b.bookStatus\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col fw-bold\",\n              children: \"Available Books\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: b.availableBooks\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-dark mr-3\",\n            onClick: () => this.onDelete(b.bookId),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-info\",\n            onClick: () => this.onEdit(b),\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundImage: `url(${book})`,\n        overflow: 'hidden',\n        height: '20000px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-3\",\n          style: styling.wrapper,\n          children: booklist\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nlet styling = {\n  wrapper: {\n    height: \"700px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\"\n  }\n};\nexport default AllBooks;","map":{"version":3,"names":["React","Component","BookService","book","Header","AllBooks","constructor","props","getBooks","service","then","data","console","log","setState","books","onDelete","bid","window","confirm","deleteBook","response","onEdit","localStorage","setItem","JSON","stringify","getItem","history","push","state","alert","parse","isadmin","componentDidMount","render","booklist","map","b","width","height","bookId","f","bookName","bookPrice","bookStatus","availableBooks","backgroundImage","overflow","styling","wrapper","display","flexWrap","justifyContent"],"sources":["C:/Users/HP/Downloads/new/src/components/AllBooks.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport BookService from '../services/BookService';\r\nimport book from '../assets/images/travel1.jpg';\r\nimport Header from './Header';\r\n\r\nclass AllBooks extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.service = new BookService();\r\n                this.state = {\r\n                    }\r\n        if(!localStorage.getItem('customer')){\r\n            alert('Please Login')\r\n            this.props.history.push('/login')\r\n            \r\n        }\r\n        else{\r\n            if(JSON.parse(localStorage.getItem('customer')).isadmin === 1 ){\r\n                \r\n            }\r\n            else{\r\n                alert('Access Denied')\r\n                this.props.history.push('/')\r\n               \r\n            }\r\n        }\r\n    }\r\n       \r\n\r\n    componentDidMount() {\r\n        this.getBooks();\r\n    }\r\n\r\n    getBooks = () => {\r\n        this.service.getBooks().then(data => {\r\n            console.log(data);\r\n            this.setState({books : data})\r\n        })\r\n    }\r\n\r\n    \r\n    onDelete = (bid) => {  \r\n\r\n        if(window.confirm(\"Are you sure you want to delete the book \" + bid + \" ?\")) {\r\n            this.service.deleteBook(bid).then(response => {\r\n                this.getBooks();\r\n            })\r\n        }\r\n    }\r\n\r\n    \r\n    onEdit = (book) => {\r\n        localStorage.setItem('book', JSON.stringify(book));\r\n        console.log(\"book to be updated : \",localStorage.getItem('book'));\r\n        this.props.history.push('/updateBook');\r\n    }\r\n\r\n    render() {\r\n        if(!localStorage.getItem('customer')){\r\n            if(!this.state.books)\r\n                return null;\r\n        }\r\n        else{\r\n            if(JSON.parse(localStorage.getItem('customer')).isadmin === 1  )\r\n                if(!this.state.books)\r\n                    return null;\r\n        }\r\n        \r\n       \r\n\r\n        const booklist = this.state.books.map(b => {\r\n            return (\r\n                <div className=\"card m-4 \" style={{width: 350, height: \"fit-content\"}}>\r\n                    \r\n                        <div className=\"card-header\">\r\n                            <h5>book {b.bookId}</h5>\r\n                        </div>\r\n                        \r\n                        <div className=\"card-body\">\r\n                        <div className=\"row mb-2\">\r\n                            <div className=\"col fw-bold\">Book Name</div>\r\n                            <div className=\"col\">{f.bookName}</div>\r\n                        </div>\r\n                        <div className=\"row mb-2\">\r\n                            <div className=\"col fw-bold\">Price</div>\r\n                            <div className=\"col\">{b.bookPrice}</div>\r\n                        </div>\r\n                        <div className=\"row mb-2\">\r\n                            <div className=\"col fw-bold\">Book Status</div>\r\n                            <div className=\"col\">{b.bookStatus}</div>\r\n                        </div>  \r\n                        <div className=\"row mb-2\">\r\n                            <div className=\"col fw-bold\">Available Books</div>\r\n                            <div className=\"col\">{b.availableBooks}</div>\r\n                        </div>\r\n                        \r\n                        <br/>\r\n                            <button className=\"btn btn-dark mr-3\" onClick={() => this.onDelete(b.bookId)}>Delete</button>\r\n                            <button className=\"btn btn-info\" onClick={() => this.onEdit(b)}>Update</button>\r\n                        </div>\r\n                        \r\n                    \r\n                </div>\r\n            )\r\n        });\r\n\r\n        return (\r\n            <div style={{backgroundImage: `url(${book})`,overflow: 'hidden', height: '20000px'}}>\r\n                <Header/>\r\n                <div className=\"pt-5\">\r\n                <div className=\"pt-3\"  style={styling.wrapper}>\r\n                {booklist}\r\n                </div>\r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet styling = { \r\n    wrapper : {\r\n        height: \"700px\",\r\n        display : \"flex\", \r\n        flexWrap: \"wrap\", \r\n        justifyContent: \"center\"\r\n    }\r\n}\r\n\r\nexport default AllBooks;"],"mappings":"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"},"metadata":{},"sourceType":"module"}